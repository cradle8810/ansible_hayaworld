---
drives:
  nfs_drive:
    uuid: 00c9fd01-0b36-47e1-ba4b-44fb2888cef4
    mountpoint: /nfs
    filesystem: "btrfs"
    options: "defaults,noatime,compress=zstd:1"

exports:
  - path: "/nfs"
    allowip: "192.168.1.0/24"
    options: "rw"

nfs_folders:
  - name: "hayato"
    uid: 1000
    gid: 1000
    path: "/nfs/hayato"

services_start:
  - nfs-server
  - qemu-guest-agent
  - ssh

apt:
  - dstat
  - ffmpeg
  - git
  - htop
  - qemu-guest-agent
  - rsync
  - wget

firewall:
  policy: deny
  allow_rules:
    - name: "SSH from service line"
      proto: "tcp"
      src: "192.168.1.0/24"
      port: '22'
    - name: "Zabbix from Zabbix-server"
      proto: "tcp"
      src: "192.168.1.106/24"
      port: "10050"
    - name: "Runner Docker ssh"
      proto: "tcp"
      src: "172.17.0.0/16"
      port: "22"
    - name: "NFS service(TCP)"
      proto: "tcp"
      src: "192.168.1.0/24"
      port: "2049"
    - name: "NFS service(UDP)"
      proto: "udp"
      src: "192.168.1.0/24"
      port: "2049"
